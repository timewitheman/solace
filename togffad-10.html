<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Togffad Health Clinic & Institute</title>
    <style>
        /* --- THEME VARIABLES --- */
        :root {
            --primary: #2C7A7B;  /* Teal */
            --primary-dark: #234E52;
            --secondary: #38B2AC; /* Mint */
            --accent: #E6FFFA;    
            --pulse: #F56565;     /* Red */
            --text-main: #2D3748;
            --text-light: #4A5568;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.95);
            --glass-card: rgba(255, 255, 255, 0.65);
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --radius: 20px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'DM Sans', sans-serif; scroll-behavior: smooth; }
        body { background-color: #F7FAFC; color: var(--text-main); overflow-x: hidden; }

        /* --- BACKGROUND ANIMATION LAYER (RESTORED) --- */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.4; /* Subtle background */
            pointer-events: none;
        }

        /* --- NAVIGATION WRAPPER --- */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1000;
            padding-top: 10px;
            pointer-events: none;
            transition: background 0.3s;
        }
        
        nav.scrolled {
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            pointer-events: auto;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding-bottom: 10px;
        }

        /* --- LOGO & HEART ANIMATION --- */
        .logo {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--primary-dark);
            background: var(--glass);
            padding: 8px 20px;
            border-radius: 50px;
            box-shadow: var(--shadow);
            margin-bottom: 8px;
            pointer-events: auto;
            display: flex; align-items: center; gap: 8px;
        }

        .logo-heart {
            width: 20px;
            height: 20px;
            fill: var(--pulse);
            transform-origin: center center;
            /* Human heart rate (~60bpm) animation */
            animation: humanHeartbeat 1.2s infinite cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        @keyframes humanHeartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.15); } /* Lub */
            28% { transform: scale(1); }
            42% { transform: scale(1.15); } /* Dub */
            70% { transform: scale(1); }    /* Pause */
            100% { transform: scale(1); }
        }

        /* --- PILL DOCK --- */
        .pill-wrapper {
            width: 100%;
            display: flex;
            justify-content: center; 
            pointer-events: none;
        }

        .pill-dock {
            pointer-events: auto;
            display: inline-flex; 
            background: var(--glass);
            padding: 5px;
            border-radius: 50px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255,255,255,0.8);
            gap: 4px;
            max-width: 95vw; 
            overflow-x: auto; 
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        .pill-dock::-webkit-scrollbar { display: none; }

        .nav-pill {
            text-decoration: none;
            color: var(--primary-dark);
            font-weight: 600;
            font-size: 0.9rem;
            padding: 8px 18px;
            border-radius: 40px;
            white-space: nowrap;
            transition: 0.3s;
            flex-shrink: 0;
        }
        .nav-pill.active { background: var(--primary); color: white; }

        /* --- 3D NAV GLOBE --- */
        .globe-container {
            pointer-events: auto;
            margin-top: 5px;
            width: 60px;
            height: 60px;
            background: var(--glass);
            border-radius: 50%;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: grab;
            position: relative;
            transition: transform 0.2s;
            border: 2px solid var(--accent);
        }
        .globe-container:active { cursor: grabbing; transform: scale(0.95); }
        .globe-hint { position: absolute; bottom: -20px; font-size: 0.6rem; color: var(--primary); font-weight: bold; opacity: 0; transition: opacity 0.3s; white-space: nowrap; }
        .globe-container:hover .globe-hint { opacity: 1; }
        canvas#nav-globe { width: 50px; height: 50px; border-radius: 50%; }

        /* --- AUDIO BUTTON --- */
        .audio-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--primary-dark);
            color: white;
            border-radius: 50%;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid white;
        }
        .audio-fab:hover { transform: scale(1.1); }
        .audio-fab.playing { background: var(--pulse); animation: pulse-audio 2s infinite; }
        @keyframes pulse-audio { 0% { box-shadow: 0 0 0 0 rgba(245, 101, 101, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(245, 101, 101, 0); } 100% { box-shadow: 0 0 0 0 rgba(245, 101, 101, 0); } }

        /* --- SECTIONS --- */
        header { padding: 220px 10% 50px; min-height: 100vh; position: relative; }
        section { padding: 4rem 10%; scroll-margin-top: 180px; }
        .hero-layout { display: grid; grid-template-columns: 1fr 1fr; align-items: center; gap: 2rem; }
        h1 { font-size: 3rem; color: var(--primary-dark); line-height: 1.2; margin-bottom: 1rem; }
        h2 { color: var(--primary-dark); margin-bottom: 1rem; }
        
        /* --- CARDS --- */
        .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .card {
            background: var(--white); padding: 2.5rem 2rem; border-radius: var(--radius);
            box-shadow: var(--shadow); transition: all 0.3s ease; position: relative; overflow: hidden; border: 1px solid transparent;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--secondary); }
        .icon-circle { width: 60px; height: 60px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 1.5rem; }
        .icon-circle svg { width: 28px; height: 28px; stroke: var(--primary); stroke-width: 2; fill: none; }
        .card h3 { margin-bottom: 1rem; color: var(--primary-dark); font-size: 1.3rem; }
        .card p { color: var(--text-light); font-size: 0.95rem; line-height: 1.6; }

        /* --- WELLBEING --- */
        .wellbeing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }
        .wellbeing-card { background: #F0FFF4; padding: 2rem; border-radius: var(--radius); border-left: 4px solid var(--primary); }
        .wellbeing-card h4 { color: var(--primary-dark); margin-bottom: 10px; font-size: 1.1rem; }
        .wellbeing-card p { font-size: 0.9rem; line-height: 1.7; color: #555; }

        /* --- NEWS CAROUSEL --- */
        .news-carousel-container {
            width: 100vw; margin-left: calc(-50vw + 50%); padding: 20px 10%; overflow-x: auto;
            -webkit-overflow-scrolling: touch; display: flex; gap: 20px; scroll-padding: 0 10%; padding-bottom: 40px;
        }
        .news-carousel-container::-webkit-scrollbar { display: none; }
        .news-glass-card {
            min-width: 280px; max-width: 280px; background: var(--glass-card); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.4); border-radius: 24px; padding: 25px; box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
            display: flex; flex-direction: column; justify-content: space-between; flex-shrink: 0; transition: transform 0.3s;
        }
        .news-glass-card:hover { transform: translateY(-5px); background: rgba(255,255,255,0.8); }
        .news-tag { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; color: var(--primary); margin-bottom: 10px; display: block; }
        .news-glass-card h4 { font-size: 1.1rem; margin-bottom: 10px; color: var(--primary-dark); line-height: 1.3; }
        .news-glass-card p { font-size: 0.85rem; color: #555; line-height: 1.5; }

        /* --- RESPONSIVE --- */
        @media (max-width: 900px) {
            header { padding: 200px 5% 50px; text-align: center; }
            .hero-layout { grid-template-columns: 1fr; }
            h1 { font-size: 2.5rem; }
            .pill-wrapper { justify-content: center; }
            .news-carousel-container { padding: 20px 5%; }
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <nav id="navbar">
        <div class="logo">
            <svg class="logo-heart" viewBox="0 0 24 24">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            TOGFFAD
        </div>

        <div class="pill-wrapper">
            <div class="pill-dock">
                <a href="#home" class="nav-pill active">Home</a>
                <a href="#wellbeing" class="nav-pill">Wellbeing</a>
                <a href="#services" class="nav-pill">Services</a>
                <a href="#news" class="nav-pill">News</a>
                <a href="#contact" class="nav-pill">Contact</a>
            </div>
        </div>

        <div class="globe-container" id="globe-trigger">
            <canvas id="nav-globe"></canvas>
            <div class="globe-hint">Swipe to Navigate</div>
        </div>
    </nav>

    <header id="home">
        <div class="hero-layout">
            <div>
                <span style="background:#E6FFFA; color:#2C7A7B; padding:5px 10px; border-radius:10px; font-weight:bold; font-size:0.8rem;">HEALTH IS OUR BUSINESS</span>
                <h1>Healing the<br>Heart & Mind</h1>
                <p style="color:#718096; font-size:1.1rem; margin-bottom:2rem;">
                    A holistic institute blending advanced surgery with psychological wellness.
                </p>
            </div>
            <div style="text-align:center;">
                <svg viewBox="0 0 400 300" style="max-width:100%; height:auto;">
                    <circle cx="200" cy="150" r="120" fill="#E6FFFA" />
                    <path d="M150 150 Q 200 100 250 150 T 350 150" fill="none" stroke="#38B2AC" stroke-width="4" />
                    <path d="M200 200 L 220 180 L 230 210 L 250 200" fill="none" stroke="#F56565" stroke-width="3" />
                    <circle cx="150" cy="150" r="10" fill="#2C7A7B" />
                    <circle cx="250" cy="150" r="10" fill="#2C7A7B" />
                </svg>
            </div>
        </div>
    </header>

    <section id="wellbeing">
        <div style="text-align:center; max-width:800px; margin:0 auto 3rem auto;">
            <h2 style="color:var(--primary-dark); margin-bottom:1rem;">Cultivating Mental Wealth</h2>
            <p style="color:var(--text-light);">True health requires a commitment to your inner world. Here are four pillars of maintaining psychological balance.</p>
        </div>
        <div class="wellbeing-grid">
            <div class="wellbeing-card">
                <h4>The Practice of Mindfulness</h4>
                <p>In our fast-paced world, anxiety often stems from living in the future. Mindfulness is the art of returning to the present. By spending just five minutes a day focusing on your breath, you can lower cortisol levels.</p>
            </div>
            <div class="wellbeing-card">
                <h4>Restorative Sleep Hygiene</h4>
                <p>Sleep is a biological necessity for emotional regulation. Chronic sleep deprivation disrupts the neurotransmitters that manage mood. Establish a consistent rhythm to protect your mental health.</p>
            </div>
            <div class="wellbeing-card">
                <h4>The Power of Connection</h4>
                <p>Humans are wired for community. Actively nurturing social bonds releases oxytocin, the hormone of trust and safety. These moments of connection serve as a powerful buffer against stress.</p>
            </div>
            <div class="wellbeing-card">
                <h4>Breaking the Stigma</h4>
                <p>Asking for help is a sign of strength. Therapy should be viewed as routine maintenance for the mind. Vulnerability is the first step toward lasting empowerment and emotional freedom.</p>
            </div>
        </div>
    </section>

    <section id="services">
        <h2 style="text-align:center; margin-bottom:3rem; color:var(--primary-dark);">Clinical Services</h2>
        <div class="services-grid">
            <div class="card">
                <div class="icon-circle"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path></svg></div>
                <h3>Psychology</h3>
                <p>Expert counseling, CBT, and pre-surgical assessments. We help patients build the mental resilience necessary for physical recovery.</p>
            </div>
            <div class="card">
                <div class="icon-circle" style="background:#FFF5F5;"><svg viewBox="0 0 24 24" style="stroke:#F56565;"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg></div>
                <h3>Cardiology</h3>
                <p>Advanced heart care including echocardiograms and stress testing. We monitor your heart's rhythm to ensure lifelong vitality.</p>
            </div>
            <div class="card">
                <div class="icon-circle"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg></div>
                <h3>Surgery</h3>
                <p>Minimally invasive laparoscopic procedures. Our sterile suites are equipped for precision intervention and rapid recovery.</p>
            </div>
        </div>
    </section>

    <section id="news" style="background:#E6FFFA;">
        <h2 style="text-align:center; margin-bottom:2rem;">Global Health Bites</h2>
        <div class="news-carousel-container">
            <div class="news-glass-card"><span class="news-tag">NEUROLOGY</span><h4>Sleep Cleaning</h4><p>New studies confirm that the brain's "glymphatic system" flushes out toxins primarily during deep REM sleep, reducing Alzheimer's risk.</p></div>
            <div class="news-glass-card"><span class="news-tag">NUTRITION</span><h4>Gut-Brain Axis</h4><p>Your gut biome produces 90% of your serotonin. Probiotic-rich diets are now being linked directly to lower depression scores.</p></div>
            <div class="news-glass-card"><span class="news-tag">CARDIOLOGY</span><h4>The 7k Rule</h4><p>While 10k steps is popular, data suggests mortality rates plateau at around 7,500 steps. Consistency matters more than volume.</p></div>
            <div class="news-glass-card"><span class="news-tag">MENTAL HEALTH</span><h4>Digital Cortisol</h4><p>Constant notifications keep the body in a low-grade 'fight or flight' mode. Scheduled 'Do Not Disturb' hours drastically lower stress.</p></div>
            <div class="news-glass-card"><span class="news-tag">WELLNESS</span><h4>Cold Exposure</h4><p>Short bursts of cold water exposure can boost dopamine levels by 250% and reduce prolonged inflammation in the body.</p></div>
            <div class="news-glass-card"><span class="news-tag">NATURE</span><h4>Forest Bathing</h4><p>Japanese 'Shinrin-yoku' reduces blood pressure. Just 20 minutes in nature lowers stress hormones significantly.</p></div>
            <div class="news-glass-card"><span class="news-tag">IMMUNITY</span><h4>Vitamin D3</h4><p>With more indoor living, Vitamin D deficiency is rising. It remains the most critical factor in immune response regulation.</p></div>
            <div class="news-glass-card"><span class="news-tag">PSYCHOLOGY</span><h4>Gratitude Wiring</h4><p>Writing down 3 things you are grateful for daily physically changes neural pathways, making the brain more resilient to trauma.</p></div>
        </div>
    </section>

    <section id="contact">
        <div class="card" style="background:linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color:white; max-width: 800px; margin: 0 auto;">
            <h2>Contact Us</h2>
            <p>Ready to prioritize your health?</p>
            <br>
            <form style="display:grid; gap:15px; text-align:left;">
                <input type="text" placeholder="Your Name" style="padding:15px; border-radius:10px; border:none;">
                <input type="email" placeholder="Your Email" style="padding:15px; border-radius:10px; border:none;">
                <button style="width:100%; padding:15px; border-radius:10px; border:none; background:white; color:var(--primary); font-weight:bold; cursor:pointer;">Send Message</button>
            </form>
        </div>
    </section>

    <div style="height: 100px;"></div>

    <div class="audio-fab" id="audioBtn" title="Play Calm Music">
        <svg id="playIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>
        <svg id="stopIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none;"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
    </div>

    <script>
        /* --- 1. PILL NAVIGATION --- */
        const sections = ['home', 'wellbeing', 'services', 'news', 'contact'];
        const navPills = document.querySelectorAll('.nav-pill');
        const navBar = document.getElementById('navbar');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) navBar.classList.add('scrolled');
            else navBar.classList.remove('scrolled');

            let current = '';
            sections.forEach(id => {
                const section = document.getElementById(id);
                if(section) {
                    const sectionTop = section.offsetTop;
                    if (window.scrollY >= (sectionTop - 300)) current = id;
                }
            });
            navPills.forEach(pill => {
                pill.classList.remove('active');
                if (pill.getAttribute('href').includes(current)) pill.classList.add('active');
            });
        });

        /* --- 2. AUDIO ENGINE (CALM CHORDS) --- */
        const audioBtn = document.getElementById('audioBtn');
        let audioCtx;
        let isPlaying = false;
        let timerID;
        
        const chords = [
            [261.63, 329.63, 392.00, 493.88], // Cmaj7
            [349.23, 440.00, 523.25, 659.25], // Fmaj7
            [392.00, 493.88, 587.33, 659.25]  // G6
        ];

        audioBtn.addEventListener('click', () => {
            if (!isPlaying) { startAudio(); } 
            else { stopAudio(); }
        });

        function startAudio() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            if (audioCtx.state === 'suspended') audioCtx.resume();
            isPlaying = true;
            document.getElementById('audioBtn').classList.add('playing');
            document.getElementById('playIcon').style.display = 'none';
            document.getElementById('stopIcon').style.display = 'block';
            scheduleNextChord();
        }

        function stopAudio() {
            isPlaying = false;
            document.getElementById('audioBtn').classList.remove('playing');
            document.getElementById('playIcon').style.display = 'block';
            document.getElementById('stopIcon').style.display = 'none';
            clearTimeout(timerID);
        }

        function playChord() {
            if (!isPlaying) return;
            const chord = chords[Math.floor(Math.random() * chords.length)];
            const duration = 4;

            chord.forEach((freq, i) => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = 'triangle';
                osc.frequency.value = freq;
                osc.detune.value = (Math.random() * 10) - 5;
                gain.gain.setValueAtTime(0, audioCtx.currentTime);
                gain.gain.linearRampToValueAtTime(0.05, audioCtx.currentTime + 1);
                gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + duration);
            });
            scheduleNextChord();
        }
        function scheduleNextChord() { timerID = setTimeout(playChord, 3500); }

        /* --- 3. 3D GLOBE (NAV) --- */
        const canvas = document.getElementById('nav-globe');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('globe-trigger');
        let width = 100, height = 100;
        canvas.width = width; canvas.height = height;

        let nodes = [];
        const numNodes = 40, radius = 35;
        for(let i=0; i<numNodes; i++) {
            const theta = Math.acos(-1 + (2 * i) / numNodes);
            const phi = Math.sqrt(numNodes * Math.PI) * theta;
            nodes.push({ x: radius * Math.cos(phi) * Math.sin(theta), y: radius * Math.sin(phi) * Math.sin(theta), z: radius * Math.cos(theta) });
        }

        let rotation = { x: 0, y: 0 };
        let autoRotate = 0.02;

        function project(x, y, z) {
            const scale = 200 / (200 + z); 
            return { x: x * scale + width/2, y: y * scale + height/2, scale: scale };
        }

        function drawGlobe() {
            ctx.clearRect(0, 0, width, height);
            rotation.y += autoRotate;

            const projectedNodes = nodes.map(n => {
                let x = n.x * Math.cos(rotation.y) - n.z * Math.sin(rotation.y);
                let z = n.z * Math.cos(rotation.y) + n.x * Math.sin(rotation.y);
                let y = n.y * Math.cos(rotation.x) - z * Math.sin(rotation.x);
                z = z * Math.cos(rotation.x) + n.y * Math.sin(rotation.x);
                return { ...project(x, y, z), z: z };
            });

            ctx.beginPath(); ctx.strokeStyle = '#38B2AC'; ctx.lineWidth = 1;
            for (let i = 0; i < projectedNodes.length; i++) {
                for (let j = i + 1; j < projectedNodes.length; j++) {
                    const d = Math.hypot(projectedNodes[i].x - projectedNodes[j].x, projectedNodes[i].y - projectedNodes[j].y);
                    if (d < 25) { ctx.moveTo(projectedNodes[i].x, projectedNodes[i].y); ctx.lineTo(projectedNodes[j].x, projectedNodes[j].y); }
                }
            }
            ctx.stroke();
            projectedNodes.forEach(p => {
                const alpha = (p.z + radius) / (2 * radius);
                ctx.fillStyle = `rgba(44, 122, 123, ${0.4 + alpha * 0.6})`;
                ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI * 2); ctx.fill();
            });
            requestAnimationFrame(drawGlobe);
        }
        drawGlobe();

        let startY = 0; let isTouching = false;
        container.addEventListener('touchstart', (e) => { startY = e.touches[0].clientY; isTouching = true; autoRotate = 0; container.style.transform = "scale(1.1)"; }, {passive: false});
        container.addEventListener('touchmove', (e) => { if(!isTouching) return; e.preventDefault(); rotation.x += (e.touches[0].clientY - startY) * 0.01; startY = e.touches[0].clientY; }, {passive: false});
        container.addEventListener('touchend', () => { isTouching = false; container.style.transform = "scale(1)"; autoRotate = 0.02; navigateByGlobe(); });
        function navigateByGlobe() {
            let currentIndex = 0;
            sections.forEach((id, index) => {
                const el = document.getElementById(id);
                if(el) { const rect = el.getBoundingClientRect(); if(rect.top < window.innerHeight/2 && rect.bottom > window.innerHeight/2) currentIndex = index; }
            });
            if (currentIndex < sections.length - 1) document.getElementById(sections[currentIndex + 1]).scrollIntoView({behavior: 'smooth'});
            else document.getElementById(sections[0]).scrollIntoView({behavior: 'smooth'});
        }

        /* --- 4. BACKGROUND PARTICLES (RESTORED) --- */
        const bgCanvas = document.getElementById('bg-canvas');
        const bgCtx = bgCanvas.getContext('2d');
        let bgWidth, bgHeight, bgParticles = [];

        function resizeBg() { bgWidth = bgCanvas.width = window.innerWidth; bgHeight = bgCanvas.height = window.innerHeight; }

        class BgParticle {
            constructor() {
                this.x = Math.random() * bgWidth; this.y = Math.random() * bgHeight;
                this.vx = (Math.random() - 0.5) * 0.5; this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2 + 1;
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                if (this.x < 0 || this.x > bgWidth) this.vx *= -1;
                if (this.y < 0 || this.y > bgHeight) this.vy *= -1;
            }
            draw() { bgCtx.fillStyle = '#38B2AC'; bgCtx.beginPath(); bgCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2); bgCtx.fill(); }
        }

        function initBgParticles() {
            bgParticles = [];
            const count = Math.floor(window.innerWidth / 15);
            for (let i = 0; i < count; i++) bgParticles.push(new BgParticle());
        }

        function animateBg() {
            bgCtx.clearRect(0, 0, bgWidth, bgHeight);
            bgParticles.forEach((p, i) => {
                p.update(); p.draw();
                for (let j = i + 1; j < bgParticles.length; j++) {
                    const p2 = bgParticles[j];
                    const dist = Math.hypot(p.x - p2.x, p.y - p2.y);
                    if (dist < 100) {
                        bgCtx.strokeStyle = `rgba(56, 178, 172, ${0.4 * (1 - dist/100)})`;
                        bgCtx.lineWidth = 0.5; bgCtx.beginPath(); bgCtx.moveTo(p.x, p.y); bgCtx.lineTo(p2.x, p2.y); bgCtx.stroke();
                    }
                }
            });
            requestAnimationFrame(animateBg);
        }

        window.addEventListener('resize', () => { resizeBg(); initBgParticles(); });
        resizeBg(); initBgParticles(); animateBg();
    </script>
</body>
</html>
